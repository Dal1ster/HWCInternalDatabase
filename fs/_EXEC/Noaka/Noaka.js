var He=Object.defineProperty;var zt=t=>{throw TypeError(t)};var ze=(t,e,n)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b=(t,e,n)=>ze(t,typeof e!="symbol"?e+"":e,n),Ut=(t,e,n)=>e.has(t)||zt("Cannot "+n);var g=(t,e,n)=>(Ut(t,e,"read from private field"),n?n.call(t):e.get(t)),bt=(t,e,n)=>e.has(t)?zt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Et=(t,e,n,r)=>(Ut(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const Ue="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ue);const Ye=2,ee="[",ne="[!",re="]",K={},ie=!1;function Lt(t){console.warn("hydration_mismatch")}var Ve=Array.isArray,Xe=Array.from,ct=Object.keys,dt=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,se=Object.getOwnPropertyDescriptors,At=Object.getPrototypeOf;const ot=()=>{};function Ke(t){return t()}function kt(t){for(var e=0;e<t.length;e++)t[e]()}const L=2,oe=4,U=8,ue=16,F=32,$t=64,Y=128,ht=256,m=512,N=1024,Z=2048,z=4096,tt=8192,Ge=16384,Pt=32768,Je=1<<18,Qe=1<<19,St=Symbol("$state");function Ze(t){return t===this.v}function le(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function tn(t){return!le(t,this.v)}function en(t){throw new Error("effect_in_teardown")}function nn(){throw new Error("effect_in_unowned_derived")}function rn(t){throw new Error("effect_orphan")}function sn(){throw new Error("effect_update_depth_exceeded")}function on(){throw new Error("hydration_failed")}function un(){throw new Error("state_unsafe_local_read")}function ln(){throw new Error("state_unsafe_mutation")}function ae(t){return{f:0,v:t,reactions:null,equals:Ze,version:0}}function fe(t){var n;const e=ae(t);return e.equals=tn,v!==null&&v.l!==null&&((n=v.l).s??(n.s=[])).push(e),e}function xt(t){return an(fe(t))}function an(t){return p!==null&&p.f&L&&(k===null?gn([t]):k.push(t)),t}function ut(t,e){return p!==null&&Ct()&&p.f&L&&(k===null||!k.includes(t))&&ln(),t.equals(e)||(t.v=e,t.version=Ee(),ce(t,N),Ct()&&h!==null&&h.f&m&&!(h.f&F)&&(w!==null&&w.includes(t)?(S(h,N),yt(h)):C===null?mn([t]):C.push(t))),e}function ce(t,e){var n=t.reactions;if(n!==null)for(var r=Ct(),i=n.length,s=0;s<i;s++){var o=n[s],u=o.f;u&N||!r&&o===h||(S(o,e),u&(m|Y)&&(u&L?ce(o,Z):yt(o)))}}function de(t){h===null&&p===null&&rn(),p!==null&&p.f&Y&&nn(),jt&&en()}function fn(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function V(t,e,n,r=!0){var i=(t&$t)!==0,s=h,o={ctx:v,deps:null,nodes_start:null,nodes_end:null,f:t|N,first:null,fn:e,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var u=q;try{Kt(!0),mt(o),o.f|=Ge}catch(c){throw et(o),c}finally{Kt(u)}}else e!==null&&yt(o);var l=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Qe)===0;if(!l&&!i&&r&&(s!==null&&fn(o,s),p!==null&&p.f&L)){var a=p;(a.children??(a.children=[])).push(o)}return o}function cn(t){const e=V(U,null,!1);return S(e,m),e.teardown=t,e}function Yt(t){de();var e=h!==null&&(h.f&U)!==0&&v!==null&&!v.m;if(e){var n=v;(n.e??(n.e=[])).push({fn:t,effect:h,reaction:p})}else{var r=Wt(t);return r}}function dn(t){return de(),gt(t)}function he(t){const e=V($t,t,!0);return()=>{et(e)}}function Wt(t){return V(oe,t,!1)}function gt(t){return V(U,t,!0)}function hn(t){return gt(t)}function _n(t,e=0){return V(U|ue|e,t,!0)}function Rt(t,e=!0){return V(U|F,t,!0,e)}function _e(t){var e=t.teardown;if(e!==null){const n=jt,r=p;Gt(!0),pt(null);try{e.call(null)}finally{Gt(n),pt(r)}}}function et(t,e=!0){var n=!1;if((e||t.f&Je)&&t.nodes_start!==null){for(var r=t.nodes_start,i=t.nodes_end;r!==null;){var s=r===i?null:rt(r);r.remove(),r=s}n=!0}Te(t,e&&!n),J(t,0),S(t,tt);var o=t.transitions;if(o!==null)for(const l of o)l.stop();_e(t);var u=t.parent;u!==null&&u.first!==null&&pe(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function pe(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Vt(t,e){var n=[];ve(t,n,!0),pn(n,()=>{et(t),e&&e()})}function pn(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function ve(t,e,n){if(!(t.f&z)){if(t.f^=z,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&Pt)!==0||(r.f&F)!==0;ve(r,e,s?n:!1),r=i}}}function Xt(t){we(t,!0)}function we(t,e){if(t.f&z){t.f^=z,nt(t)&&mt(t);for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Pt)!==0||(n.f&F)!==0;we(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let _t=!1,Ot=[];function $e(){_t=!1;const t=Ot.slice();Ot=[],kt(t)}function It(t){_t||(_t=!0,queueMicrotask($e)),Ot.push(t)}function vn(){_t&&$e()}function ge(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&L?wn(r):et(r)}}}function me(t){var e,n=h;vt(t.parent);try{ge(t),e=xe(t)}finally{vt(n)}var r=(I||t.f&Y)&&t.deps!==null?Z:m;S(t,r),t.equals(e)||(t.v=e,t.version=Ee())}function wn(t){ge(t),J(t,0),S(t,tt),t.children=t.deps=t.reactions=t.fn=null}const ye=0,$n=1;let lt=ye,G=!1,q=!1,jt=!1;function Kt(t){q=t}function Gt(t){jt=t}let M=[],B=0;let p=null;function pt(t){p=t}let h=null;function vt(t){h=t}let k=null;function gn(t){k=t}let w=null,E=0,C=null;function mn(t){C=t}let be=0,I=!1,v=null;function Ee(){return++be}function Ct(){return v!==null&&v.l===null}function nt(t){var o,u;var e=t.f;if(e&N)return!0;if(e&Z){var n=t.deps,r=(e&Y)!==0;if(n!==null){var i;if(e&ht){for(i=0;i<n.length;i++)((o=n[i]).reactions??(o.reactions=[])).push(t);t.f^=ht}for(i=0;i<n.length;i++){var s=n[i];if(nt(s)&&me(s),r&&h!==null&&!I&&!((u=s==null?void 0:s.reactions)!=null&&u.includes(t))&&(s.reactions??(s.reactions=[])).push(t),s.version>t.version)return!0}}r||S(t,m)}return!1}function yn(t,e,n){throw t}function xe(t){var c;var e=w,n=E,r=C,i=p,s=I,o=k;w=null,E=0,C=null,p=t.f&(F|$t)?null:t,I=!q&&(t.f&Y)!==0,k=null;try{var u=(0,t.fn)(),l=t.deps;if(w!==null){var a;if(J(t,E),l!==null&&E>0)for(l.length=E+w.length,a=0;a<w.length;a++)l[E+a]=w[a];else t.deps=l=w;if(!I)for(a=E;a<l.length;a++)((c=l[a]).reactions??(c.reactions=[])).push(t)}else l!==null&&E<l.length&&(J(t,E),l.length=E);return u}finally{w=e,E=n,C=r,p=i,I=s,k=o}}function bn(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&L&&(w===null||!w.includes(e))&&(S(e,Z),e.f&(Y|ht)||(e.f^=ht),J(e,0))}function J(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)bn(t,n[r])}function Te(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;et(n,e),n=r}}function mt(t){var e=t.f;if(!(e&tt)){S(t,m);var n=h,r=v;h=t,v=t.ctx;try{e&ue||Te(t),_e(t);var i=xe(t);t.teardown=typeof i=="function"?i:null,t.version=be}catch(s){yn(s)}finally{h=n,v=r}}}function Ae(){B>1e3&&(B=0,sn()),B++}function ke(t){var e=t.length;if(e!==0){Ae();var n=q;q=!0;try{for(var r=0;r<e;r++){var i=t[r];i.f&m||(i.f^=m);var s=[];Se(i,s),En(s)}}finally{q=n}}}function En(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&(tt|z))&&nt(r)&&(mt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?pe(r):r.fn=null))}}function xn(){if(G=!1,B>1001)return;const t=M;M=[],ke(t),G||(B=0)}function yt(t){lt===ye&&(G||(G=!0,queueMicrotask(xn)));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&($t|F)){if(!(n&m))return;e.f^=m}}M.push(e)}function Se(t,e){var n=t.first,r=[];t:for(;n!==null;){var i=n.f,s=(i&F)!==0,o=s&&(i&m)!==0;if(!o&&!(i&z))if(i&U){s?n.f^=m:nt(n)&&mt(n);var u=n.first;if(u!==null){n=u;continue}}else i&oe&&r.push(n);var l=n.next;if(l===null){let f=n.parent;for(;f!==null;){if(t===f)break t;var a=f.next;if(a!==null){n=a;continue t}f=f.parent}}n=l}for(var c=0;c<r.length;c++)u=r[c],e.push(u),Se(u,e)}function Re(t){var e=lt,n=M;try{Ae();const i=[];lt=$n,M=i,G=!1,ke(n);var r=t==null?void 0:t();return vn(),(M.length>0||i.length>0)&&Re(),B=0,r}finally{lt=e,M=n}}function O(t){var e=t.f;if(e&tt)return t.v;if(p!==null){k!==null&&k.includes(t)&&un();var n=p.deps;w===null&&n!==null&&n[E]===t?E++:w===null?w=[t]:w.push(t),C!==null&&h!==null&&h.f&m&&!(h.f&F)&&C.includes(t)&&(S(h,N),yt(h))}if(e&L){var r=t;nt(r)&&me(r)}return t.v}function Oe(t){const e=p;try{return p=null,t()}finally{p=e}}const Tn=~(N|Z|m);function S(t,e){t.f=t.f&Tn|e}function Ce(t,e=!1,n){v={p:v,c:null,e:null,m:!1,s:t,x:null,l:null},e||(v.l={s:null,u:null,r1:[],r2:ae(!1)})}function Fe(t){const e=v;if(e!==null){const o=e.e;if(o!==null){var n=h,r=p;e.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];vt(s.effect),pt(s.reaction),Wt(s.fn)}}finally{vt(n),pt(r)}}v=e.p,e.m=!0}return{}}function An(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(St in t)Ft(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&St in n&&Ft(n)}}}function Ft(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Ft(t[r],e)}catch{}const n=At(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=se(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}var Jt,De,Me;function Dt(){if(Jt===void 0){Jt=window;var t=Element.prototype,e=Node.prototype;De=Tt(e,"firstChild").get,Me=Tt(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__e=void 0,Text.prototype.__t=void 0}}function Ne(t=""){return document.createTextNode(t)}function wt(t){return De.call(t)}function rt(t){return Me.call(t)}function kn(t){if(!T)return wt(t);var e=wt($);return e===null&&(e=$.appendChild(Ne())),Q(e),e}function Sn(t){t.textContent=""}let T=!1;function j(t){T=t}let $;function Q(t){if(t===null)throw Lt(),K;return $=t}function qt(){return Q(rt($))}function Rn(t){if(T){if(rt($)!==null)throw Lt(),K;$=t}}function On(){for(var t=0,e=$;;){if(e.nodeType===8){var n=e.data;if(n===re){if(t===0)return e;t-=1}else(n===ee||n===ne)&&(t+=1)}var r=rt(e);e.remove(),e=r}}const Cn=new Set,Qt=new Set;function Fn(t,e,n,r){function i(s){if(r.capture||X.call(e,s),!s.cancelBubble)return n.call(this,s)}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?It(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function Dn(t,e,n,r,i){var s={capture:r,passive:i},o=Fn(t,e,n,s);(e===document.body||e===window||e===document)&&cn(()=>{e.removeEventListener(t,o,s)})}function X(t){var Ht;var e=this,n=e.ownerDocument,r=t.type,i=((Ht=t.composedPath)==null?void 0:Ht.call(t))||[],s=i[0]||t.target,o=0,u=t.__root;if(u){var l=i.indexOf(u);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var a=i.indexOf(e);if(a===-1)return;l<=a&&(o=l)}if(s=i[o]||t.target,s!==e){dt(t,"currentTarget",{configurable:!0,get(){return s||n}});try{for(var c,f=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+r];if(_!==void 0&&!s.disabled)if(Ve(_)){var[y,...D]=_;y.apply(s,[t,...D])}else _.call(s,t)}catch(it){c?f.push(it):c=it}if(t.cancelBubble||d===e||d===null)break;s=d}if(c){for(let it of f)queueMicrotask(()=>{throw it});throw c}}finally{t.__root=e,delete t.currentTarget}}}function Mn(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Mt(t,e){var n=h;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Bt(t,e){var n=(e&Ye)!==0,r,i=!t.startsWith("<!>");return()=>{if(T)return Mt($,null),$;r===void 0&&(r=Mn(i?t:"<!>"+t),r=wt(r));var s=n?document.importNode(r,!0):r.cloneNode(!0);return Mt(s,s),s}}function at(t,e){if(T){h.nodes_end=$,qt();return}t!==null&&t.before(e)}const Nn=["touchstart","touchmove"];function Ln(t){return Nn.includes(t)}function Le(t,e){const n=e.anchor??e.target.appendChild(Ne());return Pe(t,{...e,anchor:n})}function Pn(t,e){Dt(),e.intro=e.intro??!1;const n=e.target,r=T,i=$;try{for(var s=wt(n);s&&(s.nodeType!==8||s.data!==ee);)s=rt(s);if(!s)throw K;j(!0),Q(s),qt();const o=Pe(t,{...e,anchor:s});if($===null||$.nodeType!==8||$.data!==re)throw Lt(),K;return j(!1),o}catch(o){if(o===K)return e.recover===!1&&on(),Dt(),Sn(n),j(!1),Le(t,e);throw o}finally{j(r),Q(i)}}const P=new Map;function Pe(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){Dt();var u=new Set,l=f=>{for(var d=0;d<f.length;d++){var _=f[d];if(!u.has(_)){u.add(_);var y=Ln(_);e.addEventListener(_,X,{passive:y});var D=P.get(_);D===void 0?(document.addEventListener(_,X,{passive:y}),P.set(_,1)):P.set(_,D+1)}}};l(Xe(Cn)),Qt.add(l);var a=void 0,c=he(()=>(Rt(()=>{if(s){Ce({});var f=v;f.c=s}i&&(r.$$events=i),T&&Mt(n,null),a=t(n,r)||{},T&&(h.nodes_end=$),s&&Fe()}),()=>{for(var f of u){e.removeEventListener(f,X);var d=P.get(f);--d===0?(document.removeEventListener(f,X),P.delete(f)):P.set(f,d)}Qt.delete(l),Nt.delete(a)}));return Nt.set(a,c),a}let Nt=new WeakMap;function Wn(t){const e=Nt.get(t);e&&e()}function In(t,e,n,r=null,i=!1){T&&qt();var s=t,o=null,u=null,l=null,a=i?Pt:0;_n(()=>{if(l===(l=!!e()))return;let c=!1;if(T){const f=s.data===ne;l===f&&(s=On(),Q(s),j(!1),c=!0)}l?(o?Xt(o):o=Rt(()=>n(s)),u&&Vt(u,()=>{u=null})):(u?Xt(u):r&&(u=Rt(()=>r(s))),o&&Vt(o,()=>{o=null})),c&&j(!0)},a),T&&(s=$)}function jn(t,e){It(()=>{var n=t.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+e.hash)){const i=document.createElement("style");i.id=e.hash,i.textContent=e.code,r.appendChild(i)}})}function qn(t,e,n,r){var i=t.__attributes??(t.__attributes={});if(T){i[e]=t.getAttribute(e);return}i[e]!==(i[e]=n)&&(n==null?t.removeAttribute(e):typeof n!="string"&&Bn(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Bn(t){for(var e=[],n,r=At(t);r.constructor.name!=="Element";){n=se(r);for(var i in n)n[i].set&&e.push(i);r=At(r)}return e}function Zt(t,e){return t===e||(t==null?void 0:t[St])===e}function Hn(t={},e,n,r){return Wt(()=>{var i,s;return gt(()=>{i=s,s=[],Oe(()=>{t!==n(...s)&&(e(t,...s),i&&Zt(n(...i),t)&&e(null,...i))})}),()=>{It(()=>{s&&Zt(n(...s),t)&&e(null,...s)})}}),t}function zn(){const t=v,e=t.l.u;e&&(e.b.length&&dn(()=>{te(t),kt(e.b)}),Yt(()=>{const n=Oe(()=>e.m.map(Ke));return()=>{for(const r of n)typeof r=="function"&&r()}}),e.a.length&&Yt(()=>{te(t),kt(e.a)}))}function te(t){if(t.l.s)for(const e of t.l.s)O(e);An(t.s)}function Un(t,e,n){if(t==null)return e(void 0),ot;const r=t.subscribe(e,n);return r.unsubscribe?()=>r.unsubscribe():r}function Yn(t){return new Vn(t)}var R,x;class Vn{constructor(e){bt(this,R);bt(this,x);var s;var n=new Map,r=(o,u)=>{var l=fe(u);return n.set(o,l),l};const i=new Proxy({...e.props||{},$$events:{}},{get(o,u){return O(n.get(u)??r(u,Reflect.get(o,u)))},has(o,u){return O(n.get(u)??r(u,Reflect.get(o,u))),Reflect.has(o,u)},set(o,u,l){return ut(n.get(u)??r(u,l),l),Reflect.set(o,u,l)}});Et(this,x,(e.hydrate?Pn:Le)(e.component,{target:e.target,props:i,context:e.context,intro:e.intro??!1,recover:e.recover})),(!((s=e==null?void 0:e.props)!=null&&s.$$host)||e.sync===!1)&&Re(),Et(this,R,i.$$events);for(const o of Object.keys(g(this,x)))o==="$set"||o==="$destroy"||o==="$on"||dt(this,o,{get(){return g(this,x)[o]},set(u){g(this,x)[o]=u},enumerable:!0});g(this,x).$set=o=>{Object.assign(i,o)},g(this,x).$destroy=()=>{Wn(g(this,x))}}$set(e){g(this,x).$set(e)}$on(e,n){g(this,R)[e]=g(this,R)[e]||[];const r=(...i)=>n.call(this,...i);return g(this,R)[e].push(r),()=>{g(this,R)[e]=g(this,R)[e].filter(i=>i!==r)}}$destroy(){g(this,x).$destroy()}}R=new WeakMap,x=new WeakMap;let We;typeof HTMLElement=="function"&&(We=class extends HTMLElement{constructor(e,n,r){super();b(this,"$$ctor");b(this,"$$s");b(this,"$$c");b(this,"$$cn",!1);b(this,"$$d",{});b(this,"$$r",!1);b(this,"$$p_d",{});b(this,"$$l",{});b(this,"$$l_u",new Map);b(this,"$$me");this.$$ctor=e,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(e,n,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const i=this.$$c.$on(e,n);this.$$l_u.set(n,i)}super.addEventListener(e,n,r)}removeEventListener(e,n,r){if(super.removeEventListener(e,n,r),this.$$c){const i=this.$$l_u.get(n);i&&(i(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(s){return o=>{const u=document.createElement("slot");s!=="default"&&(u.name=s),at(o,u)}};var e=n;if(await Promise.resolve(),!this.$$cn||this.$$c)return;const r={},i=Xn(this);for(const s of this.$$s)s in i&&(s==="default"&&!this.$$d.children?(this.$$d.children=n(s),r.default=!0):r[s]=n(s));for(const s of this.attributes){const o=this.$$g_p(s.name);o in this.$$d||(this.$$d[o]=ft(o,s.value,this.$$p_d,"toProp"))}for(const s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=Yn({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=he(()=>{gt(()=>{var s;this.$$r=!0;for(const o of ct(this.$$c)){if(!((s=this.$$p_d[o])!=null&&s.reflect))continue;this.$$d[o]=this.$$c[o];const u=ft(o,this.$$d[o],this.$$p_d,"toAttribute");u==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,u)}this.$$r=!1})});for(const s in this.$$l)for(const o of this.$$l[s]){const u=this.$$c.$on(s,o);this.$$l_u.set(o,u)}this.$$l={}}}attributeChangedCallback(e,n,r){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ft(e,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return ct(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function ft(t,e,n,r){var s;const i=(s=n[t])==null?void 0:s.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!n[t])return e;if(r==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Xn(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}function Kn(t,e,n,r,i,s){let o=class extends We{constructor(){super(t,n,i),this.$$p_d=e}static get observedAttributes(){return ct(e).map(u=>(e[u].attribute||u).toLowerCase())}};return ct(e).forEach(u=>{dt(o.prototype,u,{get(){return this.$$c&&u in this.$$c?this.$$c[u]:this.$$d[u]},set(l){var f;l=ft(u,l,e),this.$$d[u]=l;var a=this.$$c;if(a){var c=(f=Tt(a,u))==null?void 0:f.get;c?a[u]=l:a.$set({[u]:l})}}})}),r.forEach(u=>{dt(o.prototype,u,{get(){var l;return(l=this.$$c)==null?void 0:l[u]}})}),t.element=o,o}class A extends Error{constructor(n,r){super(n);b(this,"data");this.data=r}static from(n){return n instanceof A?n:n instanceof Error?new A(n.message):typeof n=="string"?new A(n):typeof n=="object"&&n!==null&&"message"in n&&typeof n.message=="string"?new A(n.message,n.data):new A("An unknown error occurred")}}function Gn(...t){return fetch(...t).then(async e=>{try{const n=await e.json();if(e.ok)return n;throw A.from(n)}catch(n){throw n instanceof A?n:!e.ok&&e.status===429?new A("Too many requests"):new A("An unknown error occurred")}})}function Jn({width:t,height:e},n){const{clientWidth:r,clientHeight:i}=document.body;return n==="width"&&(t=Math.min(t,r*.7)),n==="height"&&(e=Math.min(e,i*.7)),{width:t,height:e}}function Qn(t){const e=t.width/t.height,n=window.innerWidth/window.innerHeight;return e>n?"width":"height"}var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ie={exports:{}};(function(t,e){(function(n){var r=typeof self=="object"&&self.self===self&&self||typeof st=="object"&&st.global===st&&st;t.exports=n(r)})(function(n){function r(){this.AudioContext=n.AudioContext||n.webkitAudioContext,this.support=!!this.AudioContext,this.support&&(this.context=new this.AudioContext),this.sounds={},this.sources={}}return r.prototype._base64ToArrayBuffer=function(i){for(var s=n.atob(i),o=s.length,u=new Uint8Array(o),l=0;l<o;l++)u[l]=s.charCodeAt(l);return u.buffer},r.prototype._loadWebAudioFile=function(i,s,o,u){if(this.support){var l=this;if(i.indexOf("data")!==-1&&typeof atob=="function")return l.sounds[s]=i,typeof u=="function"?u(null,i):null;var a=new XMLHttpRequest;a.open("GET",i,!0),a.responseType="arraybuffer",a.onload=function(){l.context.decodeAudioData(a.response,function(c){l.sounds[s]=c,u&&u(null,c)},function(c){u&&u(c)})},setTimeout(function(){a.send()},o||0)}},r.prototype._loadFallbackAudioFile=function(i,s,o,u,l){var a=this,c=u||3;setTimeout(function(){var f,d=0;for(a.sounds[s]=[];d<c;)f=new Audio,f.src=i,d===0&&l&&(f.addEventListener("canplaythrough",function(){l(null,f)},!1),f.addEventListener("error",function(_){var y;switch(_.target.error.code){case _.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:y=new Error("MEDIA_ERR_SRC_NOT_SUPPORTED");break;case _.target.error.MEDIA_ERR_ABORTED:y=new Error("MEDIA_ERR_ABORTED");break;case _.target.error.MEDIA_ERR_DECODE:y=new Error("MEDIA_ERR_DECODE");break;case _.target.error.MEDIA_ERR_NETWORK:y=new Error("MEDIA_ERR_NETWORK");break;default:y=new Error;break}l(y)},!1)),f.load(),a.sounds[s][d++]=f},o||0)},r.prototype._playWebAudio=function(i,s,o){var u=this,l=this.sounds[i];if(l&&!(s&&this.sources[i])){var a=u.context.createBufferSource();if(a.loop=s,s&&(this.sources[i]=a),o&&(a.onended=function(){o(null)}),a.connect(u.context.destination),typeof l=="string"&&l.indexOf("data:audio")!==-1){var c=l.replace(/^data:audio\/(?:[\-\w]+);(?:[\w\-=]+;)?base64,/,"");this.context.decodeAudioData(this._base64ToArrayBuffer(c),function(f){a.buffer=f,"noteOn"in a?a.noteOn(0):a.start(0)})}else a.buffer=l,"noteOn"in a?a.noteOn(0):a.start(0)}},r.prototype._playFallbackAudio=function(i,s,o){var u=this.sounds[i],l=u&&u.length||0,a=0,c;if(u)for(;a<l;){if(c=u[a++],o&&c.addEventListener("ended",function(){o(null)}),c.error)return;if(c.currentTime===0||c.currentTime===c.duration)return c.currentTime=0,c.loop=!!s,a=l,c.play()}},r.prototype.load=function(i,s,o,u){this.support?this._loadWebAudioFile(i,s,o,u):this._loadFallbackAudioFile(i,s,o,3,u)},r.prototype.play=function(i,s,o){if(this.support)this._playWebAudio(i,s,o);else return this._playFallbackAudio(i,s,o)},r.prototype.stop=function(i){if(this.support)this.sources[i]&&(this.sources[i].stop(0),delete this.sources[i]);else for(var s=this.sounds[i],o=s&&s.length||0,u=0,l;u<o;)l=s[u++],l.pause(),l.currentTime=0},r.prototype.has=function(i){return this.sounds.hasOwnProperty(i)},r.prototype.remove=function(i){this.stop(i),delete this.sounds[i]},r})})(Ie);var tr=Ie.exports;const er=Zn(tr);var nr="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function H(t){if(typeof t!="function")throw new TypeError("Argument to promisify must be a function");var e=t[nr],n=H.Promise||Promise;if(typeof n!="function")throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return new n((o,u)=>{i.push(function(l){if(l)return u(l);for(var a=arguments.length,c=Array(1<a?a-1:0),f=1;f<a;f++)c[f-1]=arguments[f];if(c.length===1||!e)return o(c[0]);var d={};c.forEach((_,y)=>{var D=e[y];D&&(d[D]=_)}),o(d)}),t.apply(this,i)})}}H.argumentNames="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__",H.Promise=void 0;const W=[];function rr(t,e=ot){let n=null;const r=new Set;function i(u){if(le(t,u)&&(t=u,n)){const l=!W.length;for(const a of r)a[1](),W.push(a,t);if(l){for(let a=0;a<W.length;a+=2)W[a][0](W[a+1]);W.length=0}}}function s(u){i(u(t))}function o(u,l=ot){const a=[u,l];return r.add(a),r.size===1&&(n=e(i,s)||ot),u(t),()=>{r.delete(a),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function je(t){let e;return Un(t,n=>e=n)(),e}const qe=rr(typeof localStorage<"u"&&localStorage.getItem("muted")==="true");qe.subscribe(t=>{typeof localStorage<"u"&&localStorage.setItem("muted",t.toString())});const ir={text:"/sfx/ui_hacking_charscroll.wav",sfx_s_terminal_power_on:"/sfx/sfx_s_terminal_power_on.mp3",sfx_s_terminal_loading_end:"/sfx/sfx_s_terminal_loading_end.mp3",sfx_s_terminal_winclose:"/sfx/sfx_s_terminal_winclose.mp3",sfx_s_terminal_winopen:"/sfx/sfx_s_terminal_winopen.mp3",sfx_s_terminal_buzzer:"/sfx/sfx_s_terminal_buzzer.mp3",sfx_s_terminal_enter:"/sfx/sfx_s_terminal_enter.mp3",sfx_s_terminal_cancel:"/sfx/sfx_s_terminal_cancel_soft.mp3",sfx_s_terminal_data_p1:"/sfx/sfx_s_terminal_blip_p1.wav",sfx_s_1up:"/sfx/sfx_s_1up.mp3",sfx_s_terminal_data_p2:["/sfx/sfx_s_terminal_blip_p2.wav","/sfx/sfx_s_terminal_blip_p2-2.mp3","/sfx/sfx_s_terminal_blip_p2-3.mp3","/sfx/sfx_s_terminal_blip_p2-4.mp3","/sfx/sfx_s_terminal_blip_p2-5.mp3","/sfx/sfx_s_terminal_blip_p2-6.mp3"],sfx_s_terminal_data_p3:"/sfx/sfx_s_terminal_blip_p3.wav",sfx_s_item_get02_cassette:"/sfx/sfx_s_item_get02_cassette.mp3","hwc-chime":"/sfx/hwc_demo.mp3"};function Be(t,e){const n=e||new er,r=H(n.play.bind(n)),i=H(n.load).bind(n),s={init:()=>n.support&&n.context.state!=="running"&&(n.context=new n.AudioContext),loadedSFX:{},play(o,u=!1){if(je(qe)||(n.context.state!=="running"&&s.init(),n.context.state==="suspended"))return Promise.resolve();let l=o;if(Array.isArray(t[o])){const a=t[o].length;l=`${o}_${Math.floor(Math.random()*a)}`}return r(l,u)},async load(o,u,l){if(n.sounds[u]){console.debug("Already loaded SFX",u,"at",o);return}await i(o,u,l||0),s.loadedSFX[u]=!0},stop:H(n.stop).bind(n),has:n.has.bind(n),remove(o){delete s.loadedSFX[o],n.remove(String(o))},loadAll(){return Promise.all(Object.entries(t).map(([o,u])=>Array.isArray(u)?Promise.all(u.map((l,a)=>s.load(l,`${o}_${a}`,0))):s.load(u,o,0)))},extendInstance(o){return Be(o,n)}};return s}const sr=Be(ir);class or{constructor(e){b(this,"store",window.windowStore);this.id=e,this.reportFinishedLoading=this.reportFinishedLoading.bind(this),this.close=this.close.bind(this),this.bringToFront=this.bringToFront.bind(this),this.recalculateWindowSizing=this.recalculateWindowSizing.bind(this),this.relativeMove=this.relativeMove.bind(this),this.relativeResize=this.relativeResize.bind(this),this.getMountContainer=this.getMountContainer.bind(this),this.getMountDimensions=this.getMountDimensions.bind(this)}getMountContainer(){const e=document.getElementById(`window-mount-${this.id}`);return e||console.error(`Window with id ${this.id} not found`),e}getMountDimensions(){const e=this.getMountContainer();return e?{width:e.clientWidth,height:e.clientHeight}:{width:0,height:0}}recalculateWindowSizing(){const e=this.getMountDimensions(),n=Qn(e),r=Jn(e,n);this.store.update(i=>{const s=i.find(o=>o.id===this.id);return s?(s.width=r.width,s.height=r.height,s.scalingBias=n,s.awaitingDynamicResize=!1,i):(console.error(`Window with id ${this.id} not found`),i)})}relativeResize(e,n){this.store.update(r=>{const i=r.find(s=>s.id===this.id);return i?(i.scalingBias="none",i.width=e+(i.width||0),i.height=n+(i.height||0),r):(console.error(`Window with id ${this.id} not found`),r)})}relativeMove({x:e,y:n}){this.store.update(r=>{const i=r.find(s=>s.id===this.id);return i?(i.x=e+i.x,i.y=n+i.y,r):(console.error(`Window with id ${this.id} not found`),r)})}reportFinishedLoading(){this.store.update(e=>{const n=e.find(r=>r.id===this.id);return n?n.loading?(n.loading=!1,n.resolveLoading(),e):(console.error(`Window with id ${this.id} is not loading`),e):(console.error(`Window with id ${this.id} not found`),e)})}rejectLoading(e){this.store.update(n=>{const r=n.find(i=>i.id===this.id);return r?r.loading?(r.loading=!1,r.rejectLoading(e),n):(console.error(`Window with id ${this.id} is not loading`),n):(console.error(`Window with id ${this.id} not found`),n)})}close(){sr.play("sfx_s_terminal_winclose"),this.store.update(e=>e.filter(n=>n.id!==this.id))}bringToFront(){this.store.update(e=>{const n=e.find(r=>r.id===this.id);return n?[n,...e.filter(r=>r.id!==this.id)]:e})}setWindowName(e){this.store.update(n=>{const r=n.find(i=>i.id===this.id);return r?(r.title=e,n):(console.error(`Window with id ${this.id} not found`),n)})}get properties(){return je(this.store).find(e=>e.id===this.id)}}function ur(t){var n;const e=(n=t.closest(".window"))==null?void 0:n.getAttribute("data-window-id");if(!e)throw new Error("No window found");return new or(e)}var lr=Bt('<video autoplay class="svelte-vs7wkv"></video>'),ar=Bt('<iframe src="/game/Flappy Noaka.html" class="svelte-vs7wkv"></iframe>'),fr=Bt('<div class="svelte-vs7wkv"><!></div>');const cr={hash:"svelte-vs7wkv",code:`\r
    div.svelte-vs7wkv {\r
        width: 800px;\r
        height: 600px;\r
    }\r
\r
    video.svelte-vs7wkv, iframe.svelte-vs7wkv {\r
        width: 100%;\r
        height: 100%;\r
    }\r
`};function dr(t,e){Ce(e,!1),jn(t,cr);let n=xt(),r,i=xt(""),s=xt(!1);function o(){r=ur(O(n)),r.reportFinishedLoading(),l()}async function u(f){const d=await Gn("/puzzle/noakiller?noaka="+btoa(f));ut(i,d.data.url),O(i)&&ut(s,!0)}function l(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/game/sw.js").then(()=>{navigator.serviceWorker.addEventListener("message",f=>{f.data.type==="noaka"&&u(f.data.url)})}).catch(f=>{console.error("Service Worker registration failed:",f)})}zn();var a=fr(),c=kn(a);In(c,()=>O(s),f=>{var d=lr();hn(()=>qn(d,"src",O(i))),at(f,d)},f=>{var d=ar();Hn(d,_=>ut(n,_),()=>O(n)),Dn("load",d,o),at(f,d)}),Rn(a),at(t,a),Fe()}customElements.define("haltmann-noaka",Kn(dr,{},[],[],!1));
